<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…´è¶£çˆ±å¥½ - æ¨æ™“å®‡</title>
    <link rel="stylesheet" href="../assets/css/css.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* å…´è¶£çˆ±å¥½é¡µé¢ä¸“å±æ ·å¼ */
        .hobbies-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 100px 20px 80px;
        }

        .hobbies-header {
            text-align: center;
            margin-bottom: 60px;
            animation: fadeInUp 0.8s ease-out;
        }

        .hobbies-title {
            font-size: 3rem;
            margin-bottom: 15px;
            background: linear-gradient(135deg, var(--primary-color), var(--tertiary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
        }

        .hobbies-subtitle {
            font-size: 1.2rem;
            color: var(--text-muted);
        }

        /* å›¾ç‰‡ç”»å»Š */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .gallery-item {
            background: rgba(30, 41, 59, 0.5);
            border-radius: 20px;
            overflow: hidden;
            border: 1px solid var(--border-color);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
            animation: cardFadeIn 0.6s ease-out backwards;
        }

        .gallery-item:nth-child(1) { animation-delay: 0.1s; }
        .gallery-item:nth-child(2) { animation-delay: 0.2s; }
        .gallery-item:nth-child(3) { animation-delay: 0.3s; }
        .gallery-item:nth-child(4) { animation-delay: 0.4s; }
        .gallery-item:nth-child(5) { animation-delay: 0.5s; }
        .gallery-item:nth-child(6) { animation-delay: 0.6s; }

        .gallery-item:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: var(--primary-color);
            box-shadow: 0 20px 40px rgba(99, 102, 241, 0.3);
        }

        .gallery-image-wrapper {
            position: relative;
            width: 100%;
            height: 300px;
            overflow: hidden;
            background: #1a1a1a;
            cursor: pointer;
        }

        .gallery-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
            display: block;
            position: relative;
            z-index: 1;
            background: #1a1a1a;
            opacity: 1;
            visibility: visible;
            min-height: 300px;
        }
        
        /* ç¡®ä¿å›¾ç‰‡åŠ è½½æ—¶æ˜¾ç¤º */
        .gallery-image[src] {
            opacity: 1 !important;
            visibility: visible !important;
        }
        
        /* å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶çš„æ ·å¼ */
        .gallery-image[src=""],
        .gallery-image:not([src]) {
            background: linear-gradient(135deg, var(--primary-color), var(--tertiary-color));
            opacity: 0.3;
        }

        .gallery-item:hover .gallery-image {
            transform: scale(1.1);
        }

        .gallery-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, transparent 60%, rgba(15, 23, 42, 0.9));
            opacity: 0;
            transition: opacity 0.3s ease;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding: 20px;
            z-index: 2;
            pointer-events: none; /* å…è®¸ç‚¹å‡»ç©¿é€åˆ°å›¾ç‰‡ */
        }

        .gallery-item:hover .gallery-overlay {
            opacity: 1;
        }

        .gallery-content {
            padding: 25px;
        }

        /* æ ‡é¢˜å’Œæè¿°å¹¶æ’æ˜¾ç¤º */
        .gallery-title-wrapper {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
        }

        .gallery-title {
            font-size: 1.3rem;
            margin: 0;
            color: var(--text-color);
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .gallery-title i {
            color: var(--primary-color);
        }

        .gallery-description {
            color: var(--text-muted);
            line-height: 1.6;
            font-size: 1rem;
            margin: 0;
            display: inline;
        }

        .gallery-date {
            color: var(--accent-color);
            font-size: 0.9rem;
            margin-top: 15px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* å›¾ç‰‡æ”¾å¤§æŸ¥çœ‹æ¨¡æ€æ¡† */
        .image-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.95);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(10px);
            animation: fadeIn 0.3s ease;
        }

        .image-modal.active {
            display: flex;
        }

        .image-modal-content {
            max-width: 90%;
            max-height: 90vh;
            position: relative;
            animation: zoomIn 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        @keyframes zoomIn {
            from {
                transform: scale(0.8);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .image-modal img {
            max-width: 100%;
            max-height: 70vh;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            display: block;
        }

        .image-modal-close {
            position: absolute;
            top: -50px;
            right: 0;
            background: var(--primary-color);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }

        .image-modal-close:hover {
            transform: rotate(90deg) scale(1.1);
            background: var(--tertiary-color);
        }

        .image-modal-info {
            margin-top: 20px;
            text-align: center;
            color: #ffffff;
            background: rgba(15, 23, 42, 0.8);
            padding: 15px 25px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            width: 100%;
            max-width: 100%;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .image-modal-title {
            font-size: 1.3rem;
            margin-bottom: 8px;
            color: var(--primary-color);
            font-weight: 600;
        }

        .image-modal-description {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .hobbies-title {
                font-size: 2rem;
            }

            .gallery-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .gallery-image-wrapper {
                height: 250px;
            }
        }

        @media (max-width: 480px) {
            .hobbies-container {
                padding: 80px 15px 60px;
            }

            .hobbies-title {
                font-size: 1.8rem;
            }

            .gallery-image-wrapper {
                height: 200px;
            }

            .gallery-content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div id="loader">
        <div class="loader-spinner"></div>
        <p>æ­£åœ¨åŠ è½½å…´è¶£çˆ±å¥½...</p>
    </div>
    
    <!-- è§†é¢‘èƒŒæ™¯ -->
    <video class="bg-video" autoplay muted loop playsinline>
        <source src="../assets/video/lizi.mp4" type="video/mp4">
    </video>
    
    <!-- è®¾ç½®é¢æ¿ -->
    <div class="settings-panel">
        <div class="settings-header">
            <h3>âœ¨ ä¸ªæ€§åŒ–è®¾ç½®</h3>
            <button class="close-settings" id="closeSettings">âœ•</button>
        </div>
        
        <div class="settings-group">
            <label>ğŸŒ— ä¸»é¢˜æ¨¡å¼ï¼š</label>
            <button class="btn-small" onclick="toggleTheme()">åˆ‡æ¢æ¨¡å¼</button>
        </div>
        
        <div class="settings-group">
            <label for="bgUpload">ğŸ–¼ï¸ è‡ªå®šä¹‰å£çº¸ï¼š</label>
            <input type="file" id="bgUpload" accept="image/*">
            <button class="btn-small" onclick="resetBg()">é‡ç½®å£çº¸</button>
        </div>
        
        <div class="settings-group">
            <label for="colorPicker">ğŸ¨ ä¸»é¢˜é¢œè‰²ï¼š</label>
            <input type="color" id="colorPicker" value="#6366f1">
        </div>
        
        <div class="settings-group">
            <label for="fontSizeSlider">ğŸ“ å­—ä½“å¤§å°ï¼š</label>
            <input type="range" id="fontSizeSlider" min="12" max="20" value="16">
            <span id="fontSizeDisplay">16px</span>
        </div>
        
        <div class="settings-group">
            <label for="animationToggle">
                <input type="checkbox" id="animationToggle" checked>
                ğŸ¬ åŠ¨ç”»æ•ˆæœ
            </label>
        </div>
        
        <div class="settings-group">
            <button class="btn-primary" onclick="saveSetting()">ğŸ’¾ ä¿å­˜è®¾ç½®</button>
            <button class="btn-secondary" onclick="resetAllSettings()">ğŸ”„ æ¢å¤é»˜è®¤</button>
        </div>
    </div>

    <!-- è®¾ç½®æŒ‰é’® -->
    <button class="settings-btn" id="settingsBtn" title="æ‰“å¼€è®¾ç½®">âš™ï¸</button>

    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-logo">
                <a href="../first.html" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-code"></i>
                    <span class="logo-name"><span class="char">æ¨</span><span class="char">æ™“</span><span class="char">å®‡</span></span>
                    <span class="logo-tag">&lt;/&gt;</span>
                </a>
            </div>
            <ul class="nav-menu">
                <li><a href="../first.html#home" class="nav-link">é¦–é¡µ</a></li>
                <li><a href="../first.html#about" class="nav-link">å…³äºæˆ‘</a></li>
                <li><a href="../first.html#blog" class="nav-link">åšå®¢</a></li>
                <li><a href="../first.html#contact" class="nav-link">è”ç³»</a></li>
            </ul>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- ä¸»è¦å†…å®¹ -->
    <main class="hobbies-container">
        <!-- é¡µé¢æ ‡é¢˜ -->
        <div class="hobbies-header">
            <h1 class="hobbies-title">
                <i class="fas fa-images"></i> å…´è¶£çˆ±å¥½
            </h1>
            <p class="hobbies-subtitle">ğŸ“¸ ç¬é—´å®šæ ¼ï¼Œè®°å½•ç”Ÿæ´»çš„ç¾å¥½æ—¶å…‰</p>
        </div>

        <!-- å›¾ç‰‡ç”»å»Š -->
        <div class="gallery-grid">
            <!-- ç¾é£Ÿ -->
            <div class="gallery-item reveal">
                <div class="gallery-image-wrapper" onclick="openImageModal(encodeURI('../assets/img/hobby/é¥­.jpg'), 'ğŸ½ï¸ ç¾é£Ÿæ—¶å…‰', 'ç¬¬ä¸€æ¬¡åšæ¤’ç›åœŸè±†ï¼Œå‘³é“è¿˜è¡ŒæŠŠï¼Œæ€»ä¹‹è‡ªå·±åƒäº†ä¸å°‘')">
                    <img src="../assets/img/hobby/é¥­.jpg" alt="æ¤’ç›åœŸè±†" class="gallery-image" data-src="../assets/img/hobby/é¥­.jpg" onerror="handleImageError(this);" onload="handleImageLoad(this);">
                    <div class="gallery-overlay">
                        <i class="fas fa-expand" style="color: white; font-size: 2rem;"></i>
                    </div>
                </div>
                <div class="gallery-content">
                    <div class="gallery-title-wrapper">
                        <h3 class="gallery-title">
                            <i class="fas fa-utensils"></i> ç¾é£Ÿæ—¶å…‰
                        </h3>
                        <p class="gallery-description">2025å¹´åšçš„æ¤’ç›åœŸè±†ï¼Œå‘³é“ååˆ†ä¸é”™</p>
                    </div>
                    <div class="gallery-date">
                        <i class="far fa-calendar"></i> 2025å¹´
                    </div>
                </div>
            </div>

            <!-- å®ä¹ é£æ™¯ -->
            <div class="gallery-item reveal">
                <div class="gallery-image-wrapper" onclick="openImageModal(encodeURI('../assets/img/hobby/å®ä¹ é£æ™¯.jpg'), 'ğŸŒƒ å®ä¹ é£æ™¯', 'è¿œæ˜¯çº¢å°˜ä¸å¤œåŸï¼Œè¿‘å¦‚æ˜Ÿæ²³è½æ°´ä¸­ã€‚ æˆ‘äºæ¡¥ä¸Šå‡­æ ä¹…ï¼ŒåŠçœ‹ç¹ååŠçœ‹ç¯ã€‚')">
                    <img src="../assets/img/hobby/å®ä¹ é£æ™¯.jpg" alt="å®ä¹ é£æ™¯" class="gallery-image" data-src="../assets/img/hobby/å®ä¹ é£æ™¯.jpg" onerror="handleImageError(this);" onload="handleImageLoad(this);">
                    <div class="gallery-overlay">
                        <i class="fas fa-expand" style="color: white; font-size: 2rem;"></i>
                    </div>
                </div>
                <div class="gallery-content">
                    <div class="gallery-title-wrapper">
                        <h3 class="gallery-title">
                            <i class="fas fa-mountain"></i> å®ä¹ é£æ™¯
                        </h3>
                        <p class="gallery-description">ä¸‹ç­çš„å¤œæ™šä¸­ä¹Ÿèƒ½æ¬£èµæ­¤ç­‰é£æ™¯ï¼Œè™½ç¾ï¼Œå‹¿å¤šçœ‹ï¼Œæ˜“ä¹å‘³</p>
                    </div>
                    <div class="gallery-date">
                        <i class="far fa-calendar"></i> å®ä¹ æœŸ
                    </div>
                </div>
            </div>

            <!-- DIYè£…æœº -->
            <div class="gallery-item reveal">
                <div class="gallery-image-wrapper" onclick="openImageModal('../assets/img/hobby/DIY.png', 'ğŸ–¥ï¸ DIYè£…æœº', 'æˆ‘çš„é€‰æ‹©å›°éš¾ç—‡åˆçŠ¯äº†...')">
                    <img src="../assets/img/hobby/DIY.png" alt="DIYè£…æœº" class="gallery-image" onerror="console.error('å›¾ç‰‡åŠ è½½å¤±è´¥:', this.src); this.style.display='none'; this.parentElement.innerHTML='<div style=\'width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#fff;background:#1a1a1a;\'><i class=\'fas fa-image\' style=\'font-size:3rem;opacity:0.5;\'></i></div>';">
                    <div class="gallery-overlay">
                        <i class="fas fa-expand" style="color: white; font-size: 2rem;"></i>
                    </div>
                </div>
                <div class="gallery-content">
                    <div class="gallery-title-wrapper">
                        <h3 class="gallery-title">
                            <i class="fas fa-desktop"></i> DIYè£…æœº
                        </h3>
                        <p class="gallery-description">è¯¥ç»„è£…ä¸€å°ä»€ä¹ˆæ ·çš„å°å¼ç”µè„‘å‘¢?ä¸ç®¡äº†å…ˆæ¥äºŒåå¥—é¢„é€‰å§.....</p>
                    </div>
                    <div class="gallery-date">
                        <i class="far fa-calendar"></i> 2025å¹´
                    </div>
                </div>
            </div>

            <!-- ç¬”è®°æœ¬æ”¹é€  -->
            <div class="gallery-item reveal">
                <div class="gallery-image-wrapper" onclick="openImageModal(encodeURI('../assets/img/hobby/ç¬”è®°æœ¬.jpg'), 'ğŸ’» ç¬”è®°æœ¬æ”¹é€ ', 'æ€§èƒ½å¯è°“æ˜¯æå‡ä¸å°ï¼Œå°±æ˜¯æ‰‹é‡Œæ€ä¹ˆå¤šäº†å‡ é¢—èºä¸ï¼Ÿ')">
                    <img src="../assets/img/hobby/ç¬”è®°æœ¬.jpg" alt="ç¬”è®°æœ¬æ”¹é€ " class="gallery-image" onerror="console.error('å›¾ç‰‡åŠ è½½å¤±è´¥:', this.src); this.style.display='none'; this.parentElement.innerHTML='<div style=\'width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#fff;background:#1a1a1a;\'><i class=\'fas fa-image\' style=\'font-size:3rem;opacity:0.5;\'></i></div>';">
                    <div class="gallery-overlay">
                        <i class="fas fa-expand" style="color: white; font-size: 2rem;"></i>
                    </div>
                </div>
                <div class="gallery-content">
                    <div class="gallery-title-wrapper">
                        <h3 class="gallery-title">
                            <i class="fas fa-laptop"></i> ç¬”è®°æœ¬æ”¹é€ 
                        </h3>
                        <p class="gallery-description">ä¸ºäº†ä¾¿æºæ€§è¿˜æ˜¯ä¹°ä¸€ä¸ªç¬”è®°æœ¬å§,å…ˆæ‹†æœº,å†æŠ¹äº¿ç‚¹å¯¼çƒ­å‡èƒ¶,ç„¶å...</p>
                    </div>
                    <div class="gallery-date">
                        <i class="far fa-calendar"></i> 2025å¹´
                    </div>
                </div>
            </div>

            <!-- ComfyUI -->
            <div class="gallery-item reveal">
                <div class="gallery-image-wrapper" onclick="openImageModal('../assets/img/hobby/Comfyui.png', 'ğŸ¨ AIç”Ÿå›¾', 'æ¨¡å‹è¿‡å¤§ï¼Œ8gæ˜¾å­˜ç¬”è®°æœ¬æ­£åœ¨çˆ†ç‚¸ä¸­...')">
                    <img src="../assets/img/hobby/Comfyui.png" alt="ComfyUI" class="gallery-image" onerror="console.error('å›¾ç‰‡åŠ è½½å¤±è´¥:', this.src); this.style.display='none'; this.parentElement.innerHTML='<div style=\'width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#fff;background:#1a1a1a;\'><i class=\'fas fa-image\' style=\'font-size:3rem;opacity:0.5;\'></i></div>';">
                    <div class="gallery-overlay">
                        <i class="fas fa-expand" style="color: white; font-size: 2rem;"></i>
                    </div>
                </div>
                <div class="gallery-content">
                    <div class="gallery-title-wrapper">
                        <h3 class="gallery-title">
                            <i class="fas fa-palette"></i> ComfyUIç”Ÿå›¾
                        </h3>
                        <p class="gallery-description">åŠªåŠ›å¯»æ‰¾æ¨¡å‹å’Œæ„æƒ³æ­£åå‘æç¤ºè¯ä¸­...</p>
                    </div>
                    <div class="gallery-date">
                        <i class="far fa-calendar"></i> 2025å¹´
                    </div>
                </div>
            </div>

            <!-- è£…æœºå®Œæˆ -->
            <div class="gallery-item reveal">
                <div class="gallery-image-wrapper" onclick="openImageModal(encodeURI('../assets/img/hobby/xunlian.png'), 'ğŸ› ï¸ éŸ³è‰²æ¨¡å‹è®­ç»ƒå®Œæˆ', 'è€ä¼™è®¡,è®­ç»ƒå®Œæˆäº†,å¯ä»¥ä¼‘æ¯äº†...')">
                    <img src="../assets/img/hobby/xunlian.png" alt="è£…æœºå®Œæˆ" class="gallery-image" onerror="console.error('å›¾ç‰‡åŠ è½½å¤±è´¥:', this.src); this.style.display='none'; this.parentElement.innerHTML='<div style=\'width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#fff;background:#1a1a1a;\'><i class=\'fas fa-image\' style=\'font-size:3rem;opacity:0.5;\'></i></div>';">
                    <div class="gallery-overlay">
                        <i class="fas fa-expand" style="color: white; font-size: 2rem;"></i>
                    </div>
                </div>
                <div class="gallery-content">
                    <div class="gallery-title-wrapper">
                        <h3 class="gallery-title">
                            <i class="fas fa-tools"></i> IndexTTS
                        </h3>
                        <p class="gallery-description">ä»éŸ³é¢‘é€‰å–åˆ°è®­ç»ƒï¼Œæ¯ä¸€æ­¥éƒ½æ˜¯å¯¹TTSçš„çƒ­çˆ±ä¸è¿½æ±‚ã€‚</p>
                    </div>
                    <div class="gallery-date">
                        <i class="far fa-calendar"></i> 2025å¹´
                    </div>
                </div>
            </div>
        </div>

        <!-- å…³äºå…´è¶£çˆ±å¥½ -->
        <section class="about reveal" style="margin-top: 60px;">
            <div class="section-header">
                <h2>ğŸ’­ å…³äºæˆ‘çš„å…´è¶£çˆ±å¥½</h2>
                <div class="header-line"></div>
            </div>
            <div class="about-content">
                <div class="about-text">
                    <p>è¿™é‡Œè®°å½•ç€æˆ‘çš„ç”Ÿæ´»ç‚¹ç‚¹æ»´æ»´å’Œå…´è¶£çˆ±å¥½ã€‚ä»ç¾é£Ÿçƒ¹é¥ªåˆ°ç”µè„‘DIYï¼Œä»æ‘„å½±è®°å½•åˆ°AIæ¢ç´¢çš„æ¯ä¸€ä¸ªç¬é—´ã€‚</p>
                    <p>æˆ‘å–œæ¬¢åœ¨å¿™ç¢Œçš„å­¦ä¹ å’Œå·¥ä½œä¹‹ä½™ï¼Œé€šè¿‡ä¸åŒçš„æ–¹å¼æ”¾æ¾è‡ªå·±ï¼Œæ¢ç´¢æ–°äº‹ç‰©ï¼Œè®°å½•ç”Ÿæ´»ä¸­çš„ç¾å¥½ã€‚</p>
                    <p><em>ç”Ÿæ´»ä¸æ­¢çœ¼å‰çš„ä»£ç ï¼Œè¿˜æœ‰ç¾é£Ÿã€é£æ™¯å’Œæ— é™çš„åˆ›æ„ï¼</em></p>
                </div>
                <div class="skills">
                    <h3>å…´è¶£æ ‡ç­¾</h3>
                    <div class="skill-tags">
                        <span class="tag">ğŸ³ ç¾é£Ÿçƒ¹é¥ª</span>
                        <span class="tag">ğŸ–¥ï¸ ç”µè„‘DIY</span>
                        <span class="tag">ğŸ“¸ æ‘„å½±è®°å½•</span>
                        <span class="tag">ğŸ¨ AIåˆ›ä½œ</span>
                        <span class="tag">ğŸ”§ ç¡¬ä»¶æ”¹é€ </span>
                        <span class="tag">ğŸŒƒ é£æ™¯æ¬£èµ</span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- å›¾ç‰‡æ”¾å¤§æŸ¥çœ‹æ¨¡æ€æ¡† -->
    <div class="image-modal" id="imageModal" onclick="closeImageModal(event)">
        <div class="image-modal-content" onclick="event.stopPropagation()">
            <button class="image-modal-close" onclick="closeImageModal()">âœ•</button>
            <img id="modalImage" src="" alt="">
            <div class="image-modal-info">
                <div class="image-modal-title" id="modalTitle"></div>
                <div class="image-modal-description" id="modalDescription"></div>
            </div>
        </div>
    </div>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" id="backToTop" title="è¿”å›é¡¶éƒ¨">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script src="../assets/js/script.js"></script>
    <script>
        // å›¾ç‰‡åŠ è½½é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
        function handleImageError(img, retryCount = 0) {
            const maxRetries = 3;
            const originalSrc = img.dataset.src || img.src;
            
            if (retryCount >= maxRetries) {
                console.error('å›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œå·²è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°:', originalSrc);
                img.style.display = 'none';
                const placeholder = document.createElement('div');
                placeholder.style.cssText = 'width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#fff;background:#1a1a1a;';
                placeholder.innerHTML = '<i class="fas fa-image" style="font-size:3rem;opacity:0.5;"></i>';
                img.parentElement.appendChild(placeholder);
                return;
            }
            
            console.warn(`å›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œæ­£åœ¨é‡è¯• (${retryCount + 1}/${maxRetries}):`, originalSrc);
            
            // ä½¿ç”¨ç¼–ç åçš„è·¯å¾„é‡è¯•
            const encodedSrc = encodeURI(originalSrc);
            
            // æ¸…é™¤å½“å‰srcï¼Œå¼ºåˆ¶é‡æ–°åŠ è½½
            img.src = '';
            img.style.opacity = '0';
            
            // å»¶è¿Ÿé‡è¯•ï¼Œé¿å…ç«‹å³é‡è¯•
            setTimeout(() => {
                // å°è¯•ä½¿ç”¨ç¼–ç è·¯å¾„
                img.src = encodedSrc;
                
                // å¦‚æœç¼–ç è·¯å¾„ä¹Ÿå¤±è´¥ï¼Œå°è¯•åŸå§‹è·¯å¾„
                img.onerror = function() {
                    if (retryCount < maxRetries - 1) {
                        // å°è¯•åŸå§‹è·¯å¾„
                        this.src = originalSrc;
                        this.onerror = function() {
                            handleImageError(this, retryCount + 1);
                        };
                    } else {
                        handleImageError(this, retryCount + 1);
                    }
                };
            }, 500 * (retryCount + 1)); // é€’å¢å»¶è¿Ÿ
        }
        
        // å›¾ç‰‡åŠ è½½æˆåŠŸå¤„ç†
        function handleImageLoad(img) {
            img.style.opacity = '1';
            img.style.visibility = 'visible';
            console.log('å›¾ç‰‡åŠ è½½æˆåŠŸ:', img.src);
        }
        
        // ç¡®ä¿å›¾ç‰‡æ­£ç¡®åŠ è½½
        document.addEventListener('DOMContentLoaded', function() {
            const images = document.querySelectorAll('.gallery-image');
            
            images.forEach(img => {
                const originalSrc = img.dataset.src || img.src;
                
                // å¦‚æœsrcåŒ…å«ä¸­æ–‡ï¼Œä½¿ç”¨ç¼–ç è·¯å¾„
                if (originalSrc && /[\u4e00-\u9fa5]/.test(originalSrc)) {
                    const encodedSrc = encodeURI(originalSrc);
                    img.src = encodedSrc;
                    img.dataset.src = originalSrc; // ä¿å­˜åŸå§‹è·¯å¾„
                }
                
                // æ£€æŸ¥å›¾ç‰‡æ˜¯å¦å·²åŠ è½½
                if (!img.complete || img.naturalHeight === 0) {
                    // å›¾ç‰‡æœªåŠ è½½ï¼Œæ·»åŠ åŠ è½½ç›‘å¬
                    img.addEventListener('error', function() {
                        handleImageError(this, 0);
                    });
                    
                    img.addEventListener('load', function() {
                        handleImageLoad(this);
                    });
                } else {
                    // å›¾ç‰‡å·²åŠ è½½
                    handleImageLoad(img);
                }
            });
            
            // é¢„åŠ è½½å…³é”®å›¾ç‰‡
            const criticalImages = [
                '../assets/img/hobby/é¥­.jpg',
                '../assets/img/hobby/å®ä¹ é£æ™¯.jpg'
            ];
            
            criticalImages.forEach(src => {
                const img = new Image();
                img.src = encodeURI(src);
                img.onerror = function() {
                    console.warn('é¢„åŠ è½½å›¾ç‰‡å¤±è´¥:', src);
                };
            });
        });
        
        // å›¾ç‰‡æ¨¡æ€æ¡†åŠŸèƒ½
        function openImageModal(imageSrc, title, description) {
            const modal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            const modalTitle = document.getElementById('modalTitle');
            const modalDescription = document.getElementById('modalDescription');
            
            if (!modal || !modalImage) {
                console.error('æ¨¡æ€æ¡†å…ƒç´ æœªæ‰¾åˆ°');
                return;
            }
            
            modalImage.src = imageSrc;
            
            if (modalTitle) {
                modalTitle.textContent = title;
            }
            if (modalDescription) {
                modalDescription.textContent = description;
            }
            
            modal.classList.add('active');
            document.body.style.overflow = 'hidden'; // é˜²æ­¢èƒŒæ™¯æ»šåŠ¨
        }

        function closeImageModal(event) {
            const modal = document.getElementById('imageModal');
            modal.classList.remove('active');
            document.body.style.overflow = ''; // æ¢å¤æ»šåŠ¨
            
            // å¦‚æœç‚¹å‡»çš„æ˜¯å…³é—­æŒ‰é’®ï¼Œé˜»æ­¢äº‹ä»¶å†’æ³¡
            if (event && event.target.classList.contains('image-modal-close')) {
                event.stopPropagation();
            }
        }

        // ESCé”®å…³é—­æ¨¡æ€æ¡†
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const modal = document.getElementById('imageModal');
                if (modal.classList.contains('active')) {
                    closeImageModal();
                }
            }
        });

        // åˆå§‹åŒ–æ»šåŠ¨æ˜¾ç°æ•ˆæœ
        document.addEventListener('DOMContentLoaded', function() {
            const reveals = document.querySelectorAll('.reveal');
            
            const revealOnScroll = () => {
                const windowHeight = window.innerHeight;
                const elementVisible = 150;

                reveals.forEach((reveal) => {
                    const elementTop = reveal.getBoundingClientRect().top;
                    if (elementTop < windowHeight - elementVisible && !reveal.classList.contains('active')) {
                        reveal.classList.add('active');
                    }
                });
            };

            window.addEventListener('scroll', revealOnScroll);
            revealOnScroll(); // åˆå§‹æ£€æŸ¥
        });
    </script>
</body>
</html>

